<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather app</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body id="body">
    <div>
        <form id="form">
            <input type="text" class="text-capitalize" placeholder="CITY NAME" id="city">
        </form>
    </div>
    <br>
    <br>
    <br>
    <br>
    <s1 id="s1"></s1>
    <s2 id="s2"></s2>
    <br>
    <br>
    <br>

    <s3 id="s3"></s3>
    <br>
    <br>

    <s4 id="s4"></s4>
    <br>

    <s5 id="s5"></s5>
    <script>
        const form = document.getElementById('form');
        let s1 = document.getElementById('s1');
        let s2 = document.getElementById('s2');
        let s3 = document.getElementById('s3');
        let s4 = document.getElementById('s4');
        let s5 = document.getElementById('s5');
        let body = document.getElementById('body');
        let d = new Date();

        const weather = async(city) => {


            const url = `http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=f6b6adaad4349bac2527fde0f7e20a94`;

            const fetchedData = await axios.get(url);

            s1.innerText = fetchedData.data.name + "," + fetchedData.data.sys.country;


            let x = d.toString();
            let arr = x.split(" ");
            s2.innerText = arr[0] + " " + arr[1] + " " + arr[2] + " " + arr[3];
            s3.innerHTML = parseInt(fetchedData.data.main.temp - 273.15) + "&#8451;";
            s4.innerText = fetchedData.data.weather[0].main;


            s5.innerHTML = parseInt(fetchedData.data.main.temp_min - 273.15) + "&#8451;/" + parseInt(fetchedData.data.main.temp_min - 273.15) + "&#8451;";

            console.log(fetchedData.data);
        }



        form.addEventListener('submit', (e) => {
            e.preventDefault();
            //console.dir(form.elements[0].value);
            const city = form.elements[0].value;
            console.log(form.elements[0].value);

            weather(city);

            form.elements[0].value = "";

        });
    </script>

</body>

</html>